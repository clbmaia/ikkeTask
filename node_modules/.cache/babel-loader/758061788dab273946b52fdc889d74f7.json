{"ast":null,"code":"import _regeneratorRuntime from \"/home/cleber/projetos/ikkeTask/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/cleber/projetos/ikkeTask/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/home/cleber/projetos/ikkeTask/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/cleber/projetos/ikkeTask/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/cleber/projetos/ikkeTask/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/cleber/projetos/ikkeTask/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/cleber/projetos/ikkeTask/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/cleber/projetos/ikkeTask/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/cleber/projetos/ikkeTask/src/components/Cards/CardsForm.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport { get } from 'lodash';\nimport swal from 'sweetalert';\nimport submitData from '../Submit/SubmitData';\nimport { read_cookie } from 'sfcookies';\n\nvar CardsForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CardsForm, _Component);\n\n  function CardsForm() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CardsForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CardsForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      name: '',\n      cardNumber: '',\n      type: '',\n      expiration: '',\n      limit: ''\n    };\n\n    _this.handleChangeName = function (event) {\n      _this.setState({\n        name: event.target.value\n      });\n    };\n\n    _this.handleChangeCardNumber = function (event) {\n      _this.setState({\n        cardNumber: event.target.value\n      });\n    };\n\n    _this.handleChangeType = function (event) {\n      _this.setState({\n        type: event.target.value\n      });\n    };\n\n    _this.handleChangeExpiration = function (event) {\n      _this.setState({\n        expiration: event.target.value\n      });\n    };\n\n    _this.handleChangeLimit = function (event) {\n      _this.setState({\n        limit: event.target.value\n      });\n    };\n\n    _this._onChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.salvar =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(event) {\n        var name, cardNumber, type, expiration, limit, userId, dataCard, success;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n                name = get(_this.state, 'name');\n                cardNumber = get(_this.state, 'cardNumber');\n                type = get(_this.state, 'type');\n                expiration = get(_this.state, 'expiration');\n                limit = get(_this.state, 'limit');\n\n                if (!(name.length <= 1)) {\n                  _context.next = 9;\n                  break;\n                }\n\n                swal('Erro', 'Verifique o campo Nome.', 'error');\n                return _context.abrupt(\"return\", false);\n\n              case 9:\n                if (!(cardNumber.length <= 1)) {\n                  _context.next = 12;\n                  break;\n                }\n\n                swal('Erro', 'Verifique o campo Número do Cartão.', 'error');\n                return _context.abrupt(\"return\", false);\n\n              case 12:\n                if (!(expiration.length <= 1)) {\n                  _context.next = 15;\n                  break;\n                }\n\n                swal('Erro', 'Verifique o campo Vencimento.', 'error');\n                return _context.abrupt(\"return\", false);\n\n              case 15:\n                if (!(limit.length <= 0)) {\n                  _context.next = 18;\n                  break;\n                }\n\n                swal('Erro', 'Verifique o campo Limite.', 'error');\n                return _context.abrupt(\"return\", false);\n\n              case 18:\n                userId = read_cookie('id');\n                dataCard = {\n                  name: name,\n                  cardNumber: cardNumber,\n                  type: type,\n                  expiration: expiration,\n                  limit: limit,\n                  userId: userId,\n                  collection: \"cards\"\n                };\n                _context.next = 22;\n                return submitData(dataCard);\n\n              case 22:\n                success = _context.sent;\n\n                if (success) {\n                  swal({\n                    title: 'Sucesso',\n                    text: 'Cartão cadastrado!',\n                    type: 'success'\n                  }).then(function () {\n                    window.location.reload();\n                  });\n                } else {\n                  swal('Erro', 'Falha no envio do Formulário!', 'error');\n                }\n\n              case 24:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(CardsForm, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Nome do Titular\"), React.createElement(Input, {\n        name: \"name\",\n        id: \"name\",\n        type: \"text\",\n        placeholder: \"Nome\",\n        value: this.state.value,\n        onChange: this.handleChangeName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"cardNumber\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"N\\xFAmero do Cart\\xE3o\"), React.createElement(Input, {\n        name: \"cardNumber\",\n        id: \"cardNumber\",\n        type: \"number\",\n        placeholder: \"N\\xFAmero do Cart\\xE3o\",\n        value: this.state.value,\n        onChange: this.handleChangeCardNumber,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"type\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Tipo\"), React.createElement(Input, {\n        type: \"select\",\n        name: \"type\",\n        id: \"type\",\n        value: this.state.value,\n        onChange: this.handleChangeType,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"Visa\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"Visa\"), React.createElement(\"option\", {\n        value: \"Master\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Master\"), React.createElement(\"option\", {\n        value: \"Cielo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Cielo\"), React.createElement(\"option\", {\n        value: \"Outro\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Outro\"))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"expiration\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Vencimento\"), React.createElement(Input, {\n        type: \"date\",\n        name: \"expiration\",\n        id: \"expiration\",\n        min: \"2020-01-01\",\n        value: this.state.value,\n        onChange: this.handleChangeExpiration,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"limit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"Limite\"), React.createElement(Input, {\n        name: \"limit\",\n        id: \"limit\",\n        type: \"number\",\n        min: \"100.00\",\n        max: \"10000.00\",\n        step: \"100.00\",\n        value: this.state.value,\n        onChange: this.handleChangeLimit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/Cartoes\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"primary\",\n        className: \"btn btn-primary\",\n        onClick: this.salvar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Salvar\")), React.createElement(Link, {\n        to: \"/Cartoes\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"btn btn-secondary float-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"Cancelar\")))));\n    }\n  }]);\n\n  return CardsForm;\n}(Component);\n\nexport default CardsForm;","map":{"version":3,"sources":["/home/cleber/projetos/ikkeTask/src/components/Cards/CardsForm.js"],"names":["React","Component","Link","Button","Form","FormGroup","Label","Input","get","swal","submitData","read_cookie","CardsForm","state","name","cardNumber","type","expiration","limit","handleChangeName","event","setState","target","value","handleChangeCardNumber","handleChangeType","handleChangeExpiration","handleChangeLimit","_onChange","e","salvar","preventDefault","length","userId","dataCard","collection","success","title","text","then","window","location","reload"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport { get } from 'lodash';\nimport swal from 'sweetalert';\nimport submitData from '../Submit/SubmitData';\nimport { read_cookie } from 'sfcookies';\n\nclass CardsForm extends Component {\n\n  state = {\n    name: '',\n    cardNumber: '',\n    type: '',\n    expiration: '',\n    limit: ''\n\n  };\n\n  handleChangeName = event => {\n    this.setState({ name: event.target.value });\n  };\n\n  handleChangeCardNumber = event => {\n    this.setState({ cardNumber: event.target.value });\n  };\n\n  handleChangeType = event => {\n    this.setState({ type: event.target.value });\n  };\n\n  handleChangeExpiration = event => {\n    this.setState({ expiration: event.target.value });\n  };\n\n  handleChangeLimit = event => {\n    this.setState({ limit: event.target.value });\n  };\n\n  _onChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n\n  salvar = async event => {\n    event.preventDefault();\n    const name = get(this.state, 'name');\n    const cardNumber = get(this.state, 'cardNumber');\n    const type = get(this.state, 'type');\n    const expiration = get(this.state, 'expiration');\n    const limit = get(this.state, 'limit');\n\n    if (name.length <= 1) {\n      swal('Erro', 'Verifique o campo Nome.', 'error');\n      return false;\n    }\n\n    if (cardNumber.length <= 1) {\n      swal('Erro', 'Verifique o campo Número do Cartão.', 'error');\n      return false;\n    } \n\n    if (expiration.length <= 1) {\n      swal('Erro', 'Verifique o campo Vencimento.', 'error');\n      return false;\n    }\n\n    if (limit.length <= 0) {\n      swal('Erro', 'Verifique o campo Limite.', 'error');\n      return false;\n    }\n\n    const userId = read_cookie('id');\n\n    const dataCard = {\n      name: name,\n      cardNumber: cardNumber,\n      type: type,\n      expiration: expiration,\n      limit: limit,\n      userId: userId,\n      collection: \"cards\"\n    };\n\n\n    const success = await submitData(dataCard);\n    if (success) {\n      swal({\n        title: 'Sucesso',\n        text: 'Cartão cadastrado!',\n        type: 'success'\n      }).then(function() {\n        window.location.reload();\n      });\n    } else {\n      swal('Erro', 'Falha no envio do Formulário!', 'error');\n    }\n  };\n\nrender() {\n    return (\n      <div>\n        <Form>\n          <FormGroup>\n            <Label for=\"name\">Nome do Titular</Label>\n            <Input name=\"name\" id=\"name\" type=\"text\" placeholder=\"Nome\" value={this.state.value} onChange={this.handleChangeName} />\n        </FormGroup>\n        <FormGroup>\n          <Label for=\"cardNumber\">Número do Cartão</Label>\n          <Input name=\"cardNumber\" id=\"cardNumber\" type=\"number\" placeholder=\"Número do Cartão\" value={this.state.value} onChange={this.handleChangeCardNumber} />\n        </FormGroup>\n        <FormGroup>\n          <Label for=\"type\">Tipo</Label>\n          <Input type=\"select\"  name=\"type\" id=\"type\" value={this.state.value} onChange={this.handleChangeType} >\n            <option value=\"Visa\">Visa</option>\n            <option value=\"Master\">Master</option>\n            <option value=\"Cielo\">Cielo</option>\n            <option value=\"Outro\">Outro</option>\n          </Input>\n        </FormGroup>\n        <FormGroup>\n          <Label for=\"expiration\">Vencimento</Label>\n          <Input type=\"date\" name=\"expiration\" id=\"expiration\" min=\"2020-01-01\" value={this.state.value} onChange={this.handleChangeExpiration} />\n        </FormGroup>\n        <FormGroup>\n          <Label for=\"limit\">Limite</Label>\n          <Input name=\"limit\" id=\"limit\" type=\"number\" min=\"100.00\" max=\"10000.00\" step=\"100.00\" value={this.state.value} onChange={this.handleChangeLimit} />\n        </FormGroup>\n        <FormGroup>\n          <Link to=\"/Cartoes\">\n             <Button color=\"primary\" className=\"btn btn-primary\" onClick={this.salvar}>\n                  Salvar\n             </Button>\n          </Link>\n          <Link to=\"/Cartoes\">\n             <Button className=\"btn btn-secondary float-right\">\n                  Cancelar\n             </Button>\n          </Link>      \n        </FormGroup>\n        </Form>\n      </div>\n    );\n  }\n}\nexport default CardsForm;"]},"metadata":{},"sourceType":"module"}