{"ast":null,"code":"import _regeneratorRuntime from \"/home/cleber/projetos/ikkeTask/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/cleber/projetos/ikkeTask/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/cleber/projetos/ikkeTask/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/cleber/projetos/ikkeTask/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/cleber/projetos/ikkeTask/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/cleber/projetos/ikkeTask/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/cleber/projetos/ikkeTask/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/cleber/projetos/ikkeTask/src/components/Login/LoginForm.js\";\nimport React, { Component } from 'react';\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport { get } from 'lodash';\nimport swal from 'sweetalert';\nimport submitLogin from '../Submit/SubmitLogin';\nimport { bake_cookie } from 'sfcookies';\n\nvar LoginForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LoginForm, _Component);\n\n  function LoginForm() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, LoginForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(LoginForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      email: '',\n      password: ''\n    };\n\n    _this.handleChangeEmail = function (event) {\n      _this.setState({\n        email: event.target.value\n      });\n    };\n\n    _this.handleChangePassword = function (event) {\n      _this.setState({\n        password: event.target.value\n      });\n    };\n\n    _this.logar =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(event) {\n        var email, password, dataLogin, user;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n                email = get(_this.state, 'email');\n                password = get(_this.state, 'password');\n\n                if (!(email.length <= 1)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                swal('Erro', 'Verifique o campo Email.', 'error');\n                return _context.abrupt(\"return\", false);\n\n              case 6:\n                if (!(password.length <= 1)) {\n                  _context.next = 9;\n                  break;\n                }\n\n                swal('Erro', 'Verifique o campo Senha.', 'error');\n                return _context.abrupt(\"return\", false);\n\n              case 9:\n                dataLogin = {\n                  email: email,\n                  password: password,\n                  collection: \"usersAuth\"\n                };\n                _context.next = 12;\n                return submitLogin(dataLogin);\n\n              case 12:\n                user = _context.sent;\n                console.log('user: ', user);\n\n                if (user.length > 0) {\n                  // console.log('user._id :', user[0]._id);\n                  // console.log('user.name :', user[0].name);\n                  bake_cookie('logado', true);\n                  bake_cookie('id', user[0]._id);\n                  bake_cookie('name', user[0].name);\n                  bake_cookie('email', user[0].email);\n                  bake_cookie('password', user[0].password);\n                  swal({\n                    title: 'Saudações',\n                    text: 'Olá, ' + user[0].name + '!!',\n                    icon: 'success'\n                  }).then(function () {\n                    window.location.replace('/Home');\n                  });\n                } else {\n                  swal('Erro', 'Email e/ou Senha informados, não localizados.', 'error');\n                }\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(LoginForm, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Email\"), React.createElement(Input, {\n        name: \"email\",\n        id: \"email\",\n        type: \"email\",\n        placeholder: \"Email\",\n        value: this.state.value,\n        onChange: this.handleChangeEmail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Senha\"), React.createElement(Input, {\n        type: \"password\",\n        placeholder: \"Senha\",\n        value: this.state.value,\n        onChange: this.handleChangePassword,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"primary\",\n        onClick: this.logar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Entrar\"))));\n    }\n  }]);\n\n  return LoginForm;\n}(Component);\n\nexport default LoginForm;","map":{"version":3,"sources":["/home/cleber/projetos/ikkeTask/src/components/Login/LoginForm.js"],"names":["React","Component","Button","Form","FormGroup","Label","Input","get","swal","submitLogin","bake_cookie","LoginForm","state","email","password","handleChangeEmail","event","setState","target","value","handleChangePassword","logar","preventDefault","length","dataLogin","collection","user","console","log","_id","name","title","text","icon","then","window","location","replace"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport { get } from 'lodash';\nimport swal from 'sweetalert';\nimport submitLogin from '../Submit/SubmitLogin';\nimport { bake_cookie } from 'sfcookies';\n\nclass LoginForm extends Component {\n\nstate = {\n  email: '',\n  password: ''\n\n};\n\nhandleChangeEmail = event => {\n  this.setState({ email: event.target.value });\n};\n\nhandleChangePassword = event => {\n  this.setState({ password: event.target.value });\n};\n\n\n\nlogar = async event => {\n  event.preventDefault();\n  const email = get(this.state, 'email');\n  const password = get(this.state, 'password');\n\n  if (email.length <= 1) {\n    swal('Erro', 'Verifique o campo Email.', 'error');\n    return false;\n  }\n\n  if (password.length <= 1) {\n    swal('Erro', 'Verifique o campo Senha.', 'error');\n    return false;\n  } \n\n  const dataLogin = {\n    email: email,\n    password: password,\n    collection: \"usersAuth\"\n  };\n\n\n  const user = await submitLogin(dataLogin);\n  console.log('user: ', user);\n  if (user.length > 0) {\n    // console.log('user._id :', user[0]._id);\n    // console.log('user.name :', user[0].name);\n\n    bake_cookie('logado', true);\n    bake_cookie('id', user[0]._id);\n    bake_cookie('name', user[0].name);\n    bake_cookie('email', user[0].email);\n    bake_cookie('password', user[0].password);\n\n    swal({\n      title: 'Saudações',\n      text: 'Olá, '+ user[0].name +'!!',\n      icon: 'success'\n    }).then(function() {\n      window.location.replace('/Home');\n    });\n  } else {\n    swal('Erro', 'Email e/ou Senha informados, não localizados.', 'error');\n  }\n};\n\n\nrender() {\n    return (\n      <div>\n      <Form>\n        <FormGroup>\n         <Label for=\"email\">Email</Label>      \n         <Input name=\"email\" id=\"email\" type=\"email\" placeholder=\"Email\" value={this.state.value} onChange={this.handleChangeEmail} />\n        </FormGroup>\n        <FormGroup>\n          <Label for=\"password\">Senha</Label>\n          <Input type=\"password\" placeholder=\"Senha\" value={this.state.value} onChange={this.handleChangePassword} />\n        </FormGroup>\n        <FormGroup>\n          <Button color=\"primary\" onClick={this.logar}>Entrar</Button>\n        </FormGroup>\n      </Form>\n      </div>\n    );\n  }\n}\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}